# JS :construction: [WIP]

## 目录

1. [重要逻辑缺少注释](#重要逻辑缺少注释)
1. 单行超过 80 个字符
1. 不一致的分号使用（项目内应保持一致：always/never）
1. 未使用 'use strict'（例外：使用 ES6 + babel的项目）
1. 重复声明同一变量
1. [未使用var声明变量](#未使用var声明变量)
1. 普通变量与函数未使用驼峰式
1. 类（构造函数）名称未使用大驼峰式
1. 常量命名不符合规范：大写与连线符的组合
1. 在代码块中声明函数（比如 if/while/for 语句里）
1. 多余的逗号（比如 {x: 1, y: 2,}）
1. key/value 间的冒号后缺少空格（比如 {x:1,y:2,}）
1. 使用 new 来实例化基本类型（Boolean/String/Number）
1. 修改内置对象的原型（比如 Array.prototype.forEach = ...）
1. 非必要的 new Array/Object
1. 不安全地引入站外资源，比如图像、脚本等
1. [不安全地使用eval](#不安全地使用eval)
1. [不要使用with语句](#不要使用with语句)
1. 对数组或类数组（arguments，HTMLCollection）对象使用 for-in
1. 使用非恒等判断时，没有合理的注释说明
1. if/while/for 等代码块没有使用{}括起来
1. for-in循环中，没有使用 hasOwnProperty 检查
1. 使用 arguments.caller 和 arguments.callee（严格模式下无效）
1. 出现空的代码块时，没有合理的注释说明
1. 字符串值使用单引号括起来（建议统一单引号，或同一工程保持一致性） 
1. 使用未定义的变量或定义未使用的变量
1. 嵌套深度超过 4 层
1. 函数参数超过 4 个
1. 不一致的花括弧使用（项目内应保持一致：all/multi）
1. 对象值的访问不必要地使用[]（比如persion['name']）
1. 选择作用域链最短的方法：比如：在调用对象方法的时候，closure模式要比prototype模式更快
1. [优先使用===，而不是==](#优先使用===，而不是==)
1. 不要使用delete来移除数组中的项

## 重要逻辑缺少注释

  - 当你几个月后再次回到项目，会发生什么呢？发现你根本没法轻松地记起当初对每一行代码的想法。或者，如果你的某个同事需要修改你的代码，那又会怎么样呢？始终，一直记着注释你代码的重要部分吧

## 未使用var声明变量
  - 在第一次给一个变量赋值的时候不要忘记使用var关键字

  *为什么？*：给一个未定义的变量赋值会导致创建一个全局变量。要避免全局变量。

## 不安全地使用eval

  - 对于那些不熟悉JavaScript的人来说，函数”evel”让我们能够访问JavaScript编译器。我们可以通过给”eval”传递一个字符串参数来得到该字符串执行的结果。

  *为什么？*：这不仅会极大地降低你的脚本的性能，也会造成一个巨大的安全隐患，因为这赋予传递进来的纯文本太多的能力。要尽可能地避免eval函数的使用。

## 不要使用with语句

  - 乍一看，”With”语句似乎是个聪明的想法。基本概念是它们能够为访问深度嵌套对象提供一种简写方式。

  ```javascript
    /* avoid */
    with (being.person.man.bodyparts) {
        arms = true;
        legs = true;
    }
  ```
  ```javascript
	/* recommended */
	var o = being.person.man.bodyparts;
    o.arms = true;
    o.legs = true;
   ```

## 优先使用===，而不是==
  - JavaScript使用两种相等性操作符：===|!==和==|!=。通常认为做比较的最佳实践是使用前一组操作符。

  *为什么？*：若两个操作数的类型和值相同，那么===比较的结果为真，!==比较的结果为假。

  *为什么？*：如果使用==和!=，当比较不同类型的操作数时，这组操作符会尝试对操作数的值做无用的强制转换。

  ```js
	/* avoid */
	[10] == 10     // is true
	[] == 0        // is true
	0 == false     // is true

	/* recommended */
	[10] === 10    // is false
	[] === 0       // is false
	0 === false    // is false
  ```
## 不要使用delete来移除数组中的项
使用split而不是delete来删除数组中的项。 使用delete会将指定的item替换为undefined，而不是将它移除出数组；
